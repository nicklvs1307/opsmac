# Status do Projeto

## Integrações Iniciais (Backend)
- [x] Integração com o Google Meu Negócio
- [x] Integração com o iFood
- [x] Integração com a Saipos (sistema de gestão)
- [x] Integração com o Uai Rango
- [x] Integração com o Delivery Much

## Segmentação de Clientes e NPS
### Status Atual
- [x] Backend: Implementação inicial concluída (modelo de dados atualizado, serviço de segmentação criado, gatilhos para atualização em check-in e respostas de pesquisa).
- [x] Pendência: Depuração do script de atualização em massa (`updateCustomerSegments.js`) - Lógica de cálculo de segmentação aprimorada.
- [ ] Pendência: Integração com a interface do usuário (UI) para visualização e gerenciamento dos segmentos.

## Sistema ERP
- [x] Funções de Cadastro de Produto (backend)
- [x] Funções de Cadastro de Ficha Técnica
- [ ] Caixa PDV
- [x] Cardápio Digital (Backend e Frontend implementados)
- [ ] Função para Cardápio Específico para Tablets, com manuseio simples para o cliente

---
**Observações:**
As seções detalhadas sobre "CRITÉRIOS DE SEGMENTAÇÃO", "AGRUPAMENTOS PADRÕES", "AÇÕES AUTOMÁTICAS DISPONÍVEIS", "DADOS NECESSÁRIOS PARA FUNCIONAR", "FREQUÊNCIA DE ATUALIZAÇÃO", "SUGESTÃO DE SAÍDA DA FUNÇÃO" e "O QUE É NPS" foram consideradas como documentação conceitual/informativa e não como tarefas diretas de implementação. Elas servem como base para o desenvolvimento das funcionalidades listadas acima.


dentro do modulo erp eu preciso
um modulo financeiro onde tenha:
 acerto de entregadores
acerto de garçons
 contas
  categorias
   lançamentos financeiros
   fornecedores
    frente de caixa
     formas de pagamento
e metodos de pagamento

no modulo estoque, quero grupos por ingrediente, movimentações de estoque, ficha tecnica, ingredientes e insumos, notas de entrada e ordens de compra

nos relatorios do erp quero 
cupons gerados, 
dre gerencial
fluxo de caixa
historico de posição de estoque
lista de comptas
posição de estoquete
venda por periodo


criar um novo cupom, e usar o cupom ara disparo de mensagem com segmentação de Clientes
disparo de mensagens via whatsapp

na parte do kanban onde sera visualizado os pedidos, precisa ter o botão abrir caixa (frente de caixa)
quando clicado nesse botão tem que aparecer um popup de abertura de frente de caixa, com o valor em dinheiro que sera aberto o caixa e observações, com o obtão salvar e cancelar
depois de aberto o caixa esse botão tera mais opções nele, quando clicado tem que aparecer aberto a x tempo, e o valr em dinheiro (esse valor em dinheiro tem que ser somado ao pedidos que forem em dinheiro), tem que ter as opções retirada de frente de caixa caso precise fazer alguma retirada tem que ter um popup se a retirada é pagamento ou sangria o valor da retirada e a categoria essas categorias terao que ser cadastradas pelo usuario
tera que ter o reforço de frente de caixa caso a frente de caixa precise de um reforço ou o proprietario colocou mais uma quantida de dinheiro depois que o caixa foi aberto e o valor do reforço
tem que ter no mesmo botão o resumo parcial, isso ira mostrar os valores, em dinheiro, pix, cartão e etc, as formas de pagamento também serao cadastrados pelo usuario
e a ultima opção sera o fechar frente de caixa, os valores para o fechamento de caixa tem que bater, tanto em dinheiro, cartão e etc
 depois desse botão criado, vamos para o proximo passo um botão também com venda de balcão sem cliente
 depois uma barra de pesquisa para pesquisar o nome do cliente ou numero de telefone, nessa pesquisa tem que aparecer o endereço do cliente, quando o usuario clicar em cima do endereço ele vai para o pedido, para poder escolher os itens no pdv ja com o cliente selecionado ja com o endereço

robo de pedidosimpressão automatica
gestor de pedidos
relatorios de vendas
app garçons

1. Módulo Financeiro
1.1. Acerto de Entregadores

Registro de pedidos realizados por entregador.

Cálculo automático de comissão/taxa por entrega.

Ajustes manuais e histórico de acertos.

Exportação para Excel/PDF.

1.2. Acerto de Garçons

Registro de vendas por garçom.

Percentual ou valor fixo de comissão.

Fechamento diário e histórico.

1.3. Contas e Categorias

Cadastro de categorias de contas (Ex.: Luz, Água, Marketing).

Subcategorias.

Relacionamento com lançamentos.

1.4. Lançamentos Financeiros

Entrada e saída.

Anexo de comprovantes.

Recorrência de lançamentos.

1.5. Fornecedores

Cadastro com dados fiscais.

Histórico de compras.

1.6. Frente de Caixa

Formas de pagamento personalizáveis (Dinheiro, PIX, Cartão, VR etc.).

Métodos de pagamento (à vista, parcelado, fiado).

Controle de abertura, reforço, retirada, resumo parcial e fechamento.

2. Módulo de Estoque
2.1. Estrutura

Grupos por ingrediente (Carnes, Queijos, Bebidas).

Ingredientes e insumos com estoque mínimo.

Ficha técnica integrada ao cardápio.

2.2. Movimentações

Entrada manual e automática (notas fiscais).

Saída por venda ou baixa manual.

Transferência entre estoques.

2.3. Notas de Entrada

Importação automática via XML NFe.

Associação automática de produtos.

2.4. Ordens de Compra

Emissão para fornecedores.

Aprovação e histórico.

3. Relatórios ERP

Cupons gerados.

DRE Gerencial (customizável).

Fluxo de caixa diário, semanal e mensal.

Histórico de posição de estoque.

Lista de contas.

Posição de estoque atual.

Venda por período e forma de pagamento.

4. Cupons e Disparo de Mensagens

Criar cupons no sistema (percentual, valor fixo, frete grátis).

Associar cupom a segmentos de clientes.

Disparo via WhatsApp integrado (com API oficial ou alternativa).

Registro de quem recebeu e quem utilizou.

5. PDV e Kanban de Pedidos
5.1. Botão "Abrir Caixa"

Popup com:

Valor inicial em dinheiro.

Observações.

Botões Salvar e Cancelar.

5.2. Botão com Caixa Aberto

Mostrar:

Tempo aberto.

Valor inicial + vendas em dinheiro.

Opções:

Retirada (popup: tipo — pagamento ou sangria, valor, categoria).

Reforço (valor adicionado).

Resumo Parcial (totais por forma de pagamento).

Fechar Caixa (valores conferidos por forma de pagamento).

5.3. Venda de Balcão

Sem cliente vinculado.

Rápida seleção de itens e pagamento.

5.4. Pesquisa de Cliente

Por nome ou telefone.

Mostrar endereço.

Ao clicar, já abre pedido no PDV com cliente e endereço preenchidos.

6. Automação e Extras

Robô de pedidos: impressão automática no preparo.

Gestor de pedidos: visualização em tempo real.

Relatórios de vendas: comparativo por período, produto e canal.

App para garçons: pedidos direto da mesa para o sistema.

Fluxo de Implementação (Sugestão de Ordem)

Frente de Caixa + Kanban de Pedidos (core das operações).

Módulo Financeiro (para não perder controle de grana desde o início).

Módulo de Estoque (para controlar desperdício e compras).

Relatórios ERP (alimentados pelos módulos anteriores).

Cupons e Segmentação (para aumentar vendas).

Automação e App Garçom (ganho de eficiência).


quero que no menu "programa de fidelidade" seja alterado o nome para "fidelidade".
no sub menu programa "programa de check-in" seja alterado para "check-in".
notei que a rolagem para baixo e para cima não esta funcionando em todo o sistema.
  isso quer dizer que quando tem uma iformação mais abaixo da pagina não consigo ver porque nao consigo rolar a pagina para baixo.

Na pagina que o cliente vai fazer o check-in, esta com erro no seguinte:
  URL da solicitação
  https://feedelizaapi.towersfy.com/api/checkin/public/towersfy
  Método da solicitação
  POST
  Código de status
  400 Bad Request
  Endereço remoto
  95.217.16.187:443
  {
    "error": "Dados inválidos",
    "details": [
        {
            "type": "field",
            "value": null,
            "msg": "ID do cupom inválido",
            "path": "coupon_id",
            "location": "body"
        }
    ]
}

Isso não é o esperado, pois o cliente não consegue fazer o check-in caso o cupom não esteja inserido.
O usuario tem que ter nas configurações do checkin um toggle para ativar ou desativar a opção de inserir o cupom, caso esteja desativado o input da pagina publica nao deve aparecer, assim como é no toggle de pedir mesa.
notei que na pagina publica do check in ainda tem algumas variaveis de tradução sem tradução, quero que verifique e coloque as traduçções

outro ponto, no submenu satisfação, na aba pesquisas, tem a lista de pesquisas, e ali tem as opções
uma deas é o qr code, eu quero que nessa opção do qrcode tenha a opção de aixar o qr code.
outra questão pendente no sistema de pesquisas que quando tentamos acessar a pesquisa recebemos um erro na tela "Pesquisa não encontrada ou inativa"
no devtools esta assim
URL da solicitação
https://feedelizaapi.towersfy.com/public/surveys/next/pesquisa-de-nps/
Método da solicitação
GET
Código de status
404 Not Found
Endereço remoto
95.217.16.187:443
{"error":"Rota não encontrada"}
uma coisa nessa pagina também é que ele temum botão "voltar para a pagina inicial" pore messa é uma pagina publica, e quando é clicado nesse botão é redirecionado para o sistema, eo cliente nao tem acesso, então pode remover esse botão

no submenu gerenciar qrcodes, os botões gerar primeiro qr code e o botão +gerar qrcode, quando é clicado é redirecionado para o dashboar, essa função não esta funcional, quando clicado no botão ele tem que irpara criação do qrcode

no subemnu cardapio a criação de produtos tem que ser melhorada, eu nao consigo criar um produto sem falar que é pizza e ter que escolher o valor fixo ou valor dinamico meio a meio
o usuario tem que poder criar seus produtos de forma livre, porque nem tdos os usuarios tem pizzaria, serão restaurantes, hamburguerias , sorveterias e encontrada


no submenu estoque, a movimentação de estoque nao esta funcionando, quando tento fazer uma movimentação de entrada ou saída da um erro abaixo
URL da solicitação
https://feedelizaapi.towersfy.com/api/stock/move
Método da solicitação
POST
Código de status
500 Internal Server Error
Endereço remoto
95.217.16.187:443


no submenu ficha tecnica, quando eu tento gerenciar a ficha tecnica do produto, me aparece esse erro
Erro ao carregar ficha técnica. Verifique sua conexão ou tente novamente.
URL da solicitação
https://feedelizaapi.towersfy.com/api/technical-specifications/f43fb188-b4e3-4cd1-9d8c-b304e70a3dce
Método da solicitação
GET
Código de status
404 Not Found
Endereço remoto
95.217.16.187:443
{"msg":"Ficha técnica não encontrada para este produto."}


