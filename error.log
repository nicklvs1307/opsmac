> feedeliza-plus@1.0.0 start
> node backend/server.js
Redis Client Connected
‚úÖ Conex√£o com banco de dados estabelecida
üöÄ Servidor rodando na porta 5000
DEBUG: User object after findByPk in getMe: {
  "id": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
  "email": "superadmin@example.com",
  "name": "Super Admin",
  "phone": null,
  "passwordHash": "$2a$12$AXK8ylcmRyDJAVGiaAP9cehthPRRzWlTFtptakri8l6iRS9x.69mu",
  "isSuperadmin": true,
  "loginAttempts": 0,
  "lockUntil": null,
  "isActive": true,
  "createdAt": "2025-09-05T19:26:13.667Z",
  "updatedAt": "2025-09-05T19:26:13.667Z",

  "roles": [
    {
      "id": "ef442338-948b-4bbd-9c48-f6490742edce",
      "restaurantId": null,
      "key": "super_admin",
      "name": "super_admin",
      "isSystem": true,
      "createdAt": "2025-09-05T19:26:12.940Z",
      "updatedAt": "2025-09-05T19:26:12.940Z",
      "restaurant_id": null,
      "UserRole": {
        "userId": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
        "restaurantId": "8067995c-7225-43ab-86c1-6bd8cec6040e",
        "roleId": "ef442338-948b-4bbd-9c48-f6490742edce",
        "createdAt": "2025-09-05T19:26:13.698Z",
        "updatedAt": "2025-09-05T19:26:13.698Z",
        "role_id": "ef442338-948b-4bbd-9c48-f6490742edce",
        "user_id": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
        "restaurant_id": "8067995c-7225-43ab-86c1-6bd8cec6040e"
      }
    }
  ],
  "restaurants": [
    {
      "userId": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
      "restaurantId": "8067995c-7225-43ab-86c1-6bd8cec6040e",
      "isOwner": true,
      "createdAt": "2025-09-05T19:26:13.688Z",
      "updatedAt": "2025-09-05T19:26:13.688Z",
      "restaurant_id": "8067995c-7225-43ab-86c1-6bd8cec6040e",
      "user_id": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
      "restaurant": {
        "id": "8067995c-7225-43ab-86c1-6bd8cec6040e",
        "name": "Restaurante Padr√£o",
        "slug": "restaurante-padrao",
        "description": null,
        "address": "Rua Padr√£o, 123",
        "city": "Cidade Padr√£o",
        "state": "SP",
        "zipCode": null,
        "phone": null,
        "email": null,
        "website": null,
        "logo": null,
        "planKey": null,
        "status": "active",
        "permVersion": "1",
        "createdAt": "2025-09-05T19:26:13.673Z",
        "updatedAt": "2025-09-05T19:26:13.673Z"
      }
    }
  ]
}
DEBUG: User object after findByPk in getMe: {
  "id": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
  "email": "superadmin@example.com",
  "name": "Super Admin",
  "phone": null,
  "passwordHash": "$2a$12$AXK8ylcmRyDJAVGiaAP9cehthPRRzWlTFtptakri8l6iRS9x.69mu",
  "isSuperadmin": true,
  "loginAttempts": 0,
  "lockUntil": null,
  "isActive": true,
  "createdAt": "2025-09-05T19:26:13.667Z",
  "updatedAt": "2025-09-05T19:26:13.667Z",

  "roles": [
    {
      "id": "ef442338-948b-4bbd-9c48-f6490742edce",
      "restaurantId": null,
      "key": "super_admin",
      "name": "super_admin",
      "isSystem": true,
      "createdAt": "2025-09-05T19:26:12.940Z",
      "updatedAt": "2025-09-05T19:26:12.940Z",
      "restaurant_id": null,
      "UserRole": {
        "userId": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
        "restaurantId": "8067995c-7225-43ab-86c1-6bd8cec6040e",
        "roleId": "ef442338-948b-4bbd-9c48-f6490742edce",
        "createdAt": "2025-09-05T19:26:13.698Z",
        "updatedAt": "2025-09-05T19:26:13.698Z",
        "role_id": "ef442338-948b-4bbd-9c48-f6490742edce",
        "user_id": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
        "restaurant_id": "8067995c-7225-43ab-86c1-6bd8cec6040e"
      }
    }
  ],
  "restaurants": [
    {
      "userId": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
      "restaurantId": "8067995c-7225-43ab-86c1-6bd8cec6040e",
      "isOwner": true,
      "createdAt": "2025-09-05T19:26:13.688Z",
      "updatedAt": "2025-09-05T19:26:13.688Z",
      "restaurant_id": "8067995c-7225-43ab-86c1-6bd8cec6040e",
      "user_id": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
      "restaurant": {
        "id": "8067995c-7225-43ab-86c1-6bd8cec6040e",
        "name": "Restaurante Padr√£o",
        "slug": "restaurante-padrao",
        "description": null,
        "address": "Rua Padr√£o, 123",
        "city": "Cidade Padr√£o",
        "state": "SP",
        "zipCode": null,
        "phone": null,
        "email": null,
        "website": null,
        "logo": null,
        "planKey": null,
        "status": "active",
        "permVersion": "1",
        "createdAt": "2025-09-05T19:26:13.673Z",
        "updatedAt": "2025-09-05T19:26:13.673Z"
      }
    }
  ]
}
Error caught by middleware: BadRequestError: ID do restaurante n√£o encontrado nos par√¢metros da rota.
    at checkRestaurantOwnership (/app/backend/src/middleware/checkRestaurantOwnershipMiddleware.js:9:19)
    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/app/node_modules/express/lib/router/index.js:328:13)
    at /app/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/app/node_modules/express/lib/router/index.js:346:12)
    at next (/app/node_modules/express/lib/router/index.js:280:10)
    at authMiddleware (/app/backend/src/middleware/authMiddleware.js:37:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  statusCode: 400
}
DEBUG: User object after findByPk in getMe: {
  "id": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
  "email": "superadmin@example.com",
  "name": "Super Admin",
  "phone": null,
  "passwordHash": "$2a$12$AXK8ylcmRyDJAVGiaAP9cehthPRRzWlTFtptakri8l6iRS9x.69mu",
  "isSuperadmin": true,
  "loginAttempts": 0,
  "lockUntil": null,
  "isActive": true,
  "createdAt": "2025-09-05T19:26:13.667Z",
  "updatedAt": "2025-09-05T19:26:13.667Z",

  "roles": [
    {
      "id": "ef442338-948b-4bbd-9c48-f6490742edce",
      "restaurantId": null,
      "key": "super_admin",
      "name": "super_admin",
      "isSystem": true,
      "createdAt": "2025-09-05T19:26:12.940Z",
      "updatedAt": "2025-09-05T19:26:12.940Z",
      "restaurant_id": null,
      "UserRole": {
        "userId": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
        "restaurantId": "8067995c-7225-43ab-86c1-6bd8cec6040e",
        "roleId": "ef442338-948b-4bbd-9c48-f6490742edce",
        "createdAt": "2025-09-05T19:26:13.698Z",
        "updatedAt": "2025-09-05T19:26:13.698Z",
        "role_id": "ef442338-948b-4bbd-9c48-f6490742edce",
        "user_id": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
        "restaurant_id": "8067995c-7225-43ab-86c1-6bd8cec6040e"
      }
    }
  ],
  "restaurants": [
    {
      "userId": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
      "restaurantId": "8067995c-7225-43ab-86c1-6bd8cec6040e",
      "isOwner": true,
      "createdAt": "2025-09-05T19:26:13.688Z",
      "updatedAt": "2025-09-05T19:26:13.688Z",
      "restaurant_id": "8067995c-7225-43ab-86c1-6bd8cec6040e",
      "user_id": "6c76bff1-e1e7-483a-854e-734e1cfe8b92",
      "restaurant": {
        "id": "8067995c-7225-43ab-86c1-6bd8cec6040e",
        "name": "Restaurante Padr√£o",
        "slug": "restaurante-padrao",
        "description": null,
        "address": "Rua Padr√£o, 123",
        "city": "Cidade Padr√£o",
        "state": "SP",
        "zipCode": null,
        "phone": null,
        "email": null,
        "website": null,
        "logo": null,
        "planKey": null,
        "status": "active",
        "permVersion": "1",
        "createdAt": "2025-09-05T19:26:13.673Z",
        "updatedAt": "2025-09-05T19:26:13.673Z"
      }
    }
  ]
}
Error caught by middleware: BadRequestError: ID do restaurante n√£o encontrado nos par√¢metros da rota.
    at checkRestaurantOwnership (/app/backend/src/middleware/checkRestaurantOwnershipMiddleware.js:9:19)
    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/app/node_modules/express/lib/router/index.js:328:13)
    at /app/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/app/node_modules/express/lib/router/index.js:346:12)
    at next (/app/node_modules/express/lib/router/index.js:280:10)
    at authMiddleware (/app/backend/src/middleware/authMiddleware.js:37:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  statusCode: 400
}

URL da solicita√ß√£o
https://feedelizaapi.towersfy.com/api/dashboard/overview/8067995c-7225-43ab-86c1-6bd8cec6040e?period=30d
M√©todo da solicita√ß√£o
GET
C√≥digo de status
400 Bad Request
{"error":"ID do restaurante n√£o encontrado nos par√¢metros da rota."}