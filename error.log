ProtectedRoute.js:15 ProtectedRoute Debug: isAuthenticated false
ProtectedRoute.js:16 ProtectedRoute Debug: user null
ProtectedRoute.js:17 ProtectedRoute Debug: user.permissionSnapshot undefined
ProtectedRoute.js:18 ProtectedRoute Debug: user.permissionSnapshot.isSuperAdmin undefined
ProtectedRoute.js:19 ProtectedRoute Debug: featureKey undefined
ProtectedRoute.js:20 ProtectedRoute Debug: actionKey undefined
main.a219b09b.js:2 [Violation] 'message' handler took 235ms
[Violation] Forced reflow while executing JavaScript took 59ms
ProtectedRoute.js:15 ProtectedRoute Debug: isAuthenticated true
ProtectedRoute.js:16 ProtectedRoute Debug: user {message: 'Login realizado com sucesso', id: '41c36a6b-3e1d-408f-b921-9a7ac23fc0b2', name: 'Lucas Niquele', email: 'lucas@teste.com', phone: null,Â â€¦}
ProtectedRoute.js:17 ProtectedRoute Debug: user.permissionSnapshot null
ProtectedRoute.js:18 ProtectedRoute Debug: user.permissionSnapshot.isSuperAdmin undefined
ProtectedRoute.js:19 ProtectedRoute Debug: featureKey undefined
ProtectedRoute.js:20 ProtectedRoute Debug: actionKey undefined
AuthContext.js:89 O XHR terminou de carregar: POST "https://feedelizaapi.towersfy.com/api/auth/login".
(anÃ´nimo) @ xhr.js:195
xhr @ xhr.js:15
Ur @ dispatchRequest.js:51
Promise.then
_request @ Axios.js:163
request @ Axios.js:40
(anÃ´nimo) @ Axios.js:226
toString @ bind.js:5
login @ AuthContext.js:89
onSubmit @ Login.js:25
(anÃ´nimo) @ createFormControl.ts:1260
await in (anÃ´nimo)
Te @ react-dom.production.min.js:54
We @ react-dom.production.min.js:54
(anÃ´nimo) @ react-dom.production.min.js:55
Dn @ react-dom.production.min.js:105
zn @ react-dom.production.min.js:106
(anÃ´nimo) @ react-dom.production.min.js:117
cc @ react-dom.production.min.js:273
Me @ react-dom.production.min.js:52
Un @ react-dom.production.min.js:109
Kt @ react-dom.production.min.js:74
Ht @ react-dom.production.min.js:73

> feedeliza-plus@1.0.0 start
> node backend/server.js
Redis Client Connected
âœ… ConexÃ£o com banco de dados estabelecida
ðŸš€ Servidor rodando na porta 5000
DEBUG: User object after findOne in login: {
  "id": "41c36a6b-3e1d-408f-b921-9a7ac23fc0b2",
  "email": "lucas@teste.com",
  "name": "Lucas Niquele",
  "phone": null,
  "passwordHash": "$2a$10$3HmAFd2eoMqnSuCJbC.3LO0fJVjtnN8nEH54BHnk5Mu27hUEF5ls6",
  "isSuperadmin": false,
  "loginAttempts": 0,
  "lockUntil": null,
  "isActive": true,
  "createdAt": "2025-09-05T17:41:52.987Z",
  "updatedAt": "2025-09-05T17:41:52.987Z",

  "roles": [
    {
      "id": "e7e43930-76a3-4caa-bec9-6ff5b0a999a5",
      "restaurantId": null,
      "key": "owner",
      "name": "owner",
      "isSystem": true,
      "createdAt": "2025-09-05T17:39:43.001Z",
      "updatedAt": "2025-09-05T17:39:43.001Z",
      "restaurant_id": null,
      "UserRole": {
        "userId": "41c36a6b-3e1d-408f-b921-9a7ac23fc0b2",
        "restaurantId": "072f9558-ca35-4786-9d3b-2bddc52fd434",
        "roleId": "e7e43930-76a3-4caa-bec9-6ff5b0a999a5",
        "createdAt": "2025-09-05T17:41:53.048Z",
        "updatedAt": "2025-09-05T17:41:53.048Z",
        "role_id": "e7e43930-76a3-4caa-bec9-6ff5b0a999a5",
        "user_id": "41c36a6b-3e1d-408f-b921-9a7ac23fc0b2",
        "restaurant_id": "072f9558-ca35-4786-9d3b-2bddc52fd434"
      }
    }
  ],
  "restaurants": [
    {
      "userId": "41c36a6b-3e1d-408f-b921-9a7ac23fc0b2",
      "restaurantId": "072f9558-ca35-4786-9d3b-2bddc52fd434",
      "isOwner": true,
      "createdAt": "2025-09-05T17:41:53.044Z",
      "updatedAt": "2025-09-05T17:41:53.044Z",
      "restaurant_id": "072f9558-ca35-4786-9d3b-2bddc52fd434",
      "user_id": "41c36a6b-3e1d-408f-b921-9a7ac23fc0b2",
      "restaurant": {
        "id": "072f9558-ca35-4786-9d3b-2bddc52fd434",
        "name": "Tower Pizza",
        "slug": "tower-pizza",
        "description": "A Melhor pizza da cidade",
        "address": "Avenida Doutor Bias Fortes 52",
        "city": "Andradas",
        "state": "Minas Gerais",
        "zipCode": null,
        "phone": null,
        "email": null,
        "website": null,
        "logo": null,
        "planKey": null,
        "status": "active",
        "permVersion": "1",
        "createdAt": "2025-09-05T17:41:53.039Z",
        "updatedAt": "2025-09-05T17:41:53.039Z"
      }
    }
  ]
}
DEBUG: User object before isActive check: {
  id: '41c36a6b-3e1d-408f-b921-9a7ac23fc0b2',
  email: 'lucas@teste.com',
  isActive: true
}
NODE_ENV: production
JWT_SECRET_FILE: /run/secrets/jwt_secret
Secret read from file. Length: 32